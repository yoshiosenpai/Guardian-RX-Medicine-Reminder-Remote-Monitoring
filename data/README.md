
---

# `/data` ‚Äì Logs & Schemas

This folder is for **logging formats, example datasets, and schema documentation** used by Guardian RX.

---

## üìÅ Contents

| File                                     | Purpose                                                                             |
| ---------------------------------------- | ----------------------------------------------------------------------------------- |
| **samples/guardianrx.csv**               | Example CSV log with a few rows (for quick reference).                              |
| **sheets-schema.md**                     | Documentation of the Google Sheets column schema.                                   |
| **guardianrx.csv** *(runtime, optional)* | The live CSV log generated by Node-RED. Not committed to git (add to `.gitignore`). |

---

## üìù How it works

### Node-RED CSV Logging

* The Node-RED flow appends each event to a CSV file.
* By default, it writes to `/data/guardianrx.csv`.
* Example line:

```csv
2025-09-03T09:05:30+08:00,rx-001,1,taken_ack,Metformin 500mg,"1 tab after meal",08:00,TAKEN,-61
```

### Google Sheets Logging

* Node-RED also POSTs each event to a Google Apps Script webhook.
* The webhook appends rows to a Google Sheet with the schema documented in `sheets-schema.md`.
* This provides cloud-based logging + caregiver visibility.

---

## üîÑ Workflow

1. **Local CSV** ‚Üí acts as a ‚Äúblack box‚Äù log (safe even if cloud is offline).
2. **Google Sheets** ‚Üí provides live view and easier sharing/export.
3. **CSV & Sheet** formats must stay in sync ‚Äî same column order.

---

## ‚ö†Ô∏è Notes

* Don‚Äôt commit `guardianrx.csv` (live log) to git. Add it to `.gitignore`.
* Keep **samples** and **schema.md** up-to-date if you add/change fields.
* Always verify Node-RED writes UTF-8 text (default OK).
